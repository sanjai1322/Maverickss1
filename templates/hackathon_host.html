{% extends "base.html" %}

{% block title %}Host Hackathon - {{ user.username }}{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title mb-0">
                    <i class="fas fa-rocket me-2"></i>
                    Host a Gamified Hackathon
                </h3>
                <p class="text-muted mb-0 mt-2">
                    Create an engaging coding competition for the community
                </p>
            </div>
            <div class="card-body">
                <form method="POST" action="{{ url_for('host_hackathon') }}">
                    <div class="mb-3">
                        <label for="title" class="form-label">
                            <i class="fas fa-trophy me-1"></i>
                            Hackathon Title *
                        </label>
                        <input type="text" class="form-control" id="title" name="title" 
                               placeholder="e.g., AI Innovation Challenge" required>
                    </div>
                    
                    <div class="mb-3">
                        <label for="description" class="form-label">
                            <i class="fas fa-info-circle me-1"></i>
                            Description & Rules *
                        </label>
                        <textarea class="form-control" id="description" name="description" rows="6" 
                                  placeholder="Describe the challenge, rules, evaluation criteria, and any special requirements..." 
                                  required></textarea>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="duration_hours" class="form-label">
                                <i class="fas fa-clock me-1"></i>
                                Duration (Hours)
                            </label>
                            <select class="form-select" id="duration_hours" name="duration_hours">
                                <option value="1">1 Hour Sprint</option>
                                <option value="6">6 Hours</option>
                                <option value="24" selected>24 Hours</option>
                                <option value="48">48 Hours</option>
                                <option value="168">1 Week</option>
                            </select>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="max_participants" class="form-label">
                                <i class="fas fa-users me-1"></i>
                                Max Participants
                            </label>
                            <select class="form-select" id="max_participants" name="max_participants">
                                <option value="10">10 Participants</option>
                                <option value="25">25 Participants</option>
                                <option value="50" selected>50 Participants</option>
                                <option value="100">100 Participants</option>
                                <option value="999">Unlimited</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label for="difficulty" class="form-label">
                            <i class="fas fa-level-up-alt me-1"></i>
                            Difficulty Level
                        </label>
                        <select class="form-select" id="difficulty" name="difficulty">
                            <option value="Beginner">Beginner</option>
                            <option value="Intermediate" selected>Intermediate</option>
                            <option value="Advanced">Advanced</option>
                            <option value="Expert">Expert</option>
                        </select>
                    </div>
                    
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a href="{{ url_for('hackathon') }}" class="btn btn-outline-secondary me-md-2">
                            <i class="fas fa-arrow-left me-1"></i>
                            Back to Hackathons
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-rocket me-1"></i>
                            Launch Hackathon
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card mb-4">
            <div class="card-header">
                <h6 class="card-title mb-0">
                    <i class="fas fa-star me-2"></i>
                    Hosting Requirements
                </h6>
            </div>
            <div class="card-body">
                <div class="alert alert-success" role="alert">
                    <i class="fas fa-check-circle me-2"></i>
                    <strong>Level {{ user.current_level or 1 }}</strong> - You can host hackathons!
                </div>
                <ul class="list-unstyled">
                    <li class="mb-2">
                        <i class="fas fa-trophy text-warning me-2"></i>
                        Earn 100 points for hosting
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-users text-primary me-2"></i>
                        Build community engagement
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-medal text-success me-2"></i>
                        Unlock hosting achievements
                    </li>
                </ul>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <h6 class="card-title mb-0">
                    <i class="fas fa-lightbulb me-2"></i>
                    Popular Challenge Types
                </h6>
            </div>
            <div class="card-body">
                <div class="list-group list-group-flush">
                    <div class="list-group-item border-0 px-0">
                        <strong>Full-Stack Build</strong><br>
                        <small class="text-muted">Complete web application</small>
                    </div>
                    <div class="list-group-item border-0 px-0">
                        <strong>Algorithm Race</strong><br>
                        <small class="text-muted">Speed coding challenges</small>
                    </div>
                    <div class="list-group-item border-0 px-0">
                        <strong>Creative Code</strong><br>
                        <small class="text-muted">Innovative problem solving</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Form validation and character counting
document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    const titleInput = document.getElementById('title');
    const descriptionInput = document.getElementById('description');
    
    form.addEventListener('submit', function(e) {
        if (titleInput.value.trim().length < 5) {
            e.preventDefault();
            alert('Please provide a more descriptive title (at least 5 characters).');
            titleInput.focus();
            return;
        }
        
        if (descriptionInput.value.trim().length < 50) {
            e.preventDefault();
            alert('Please provide a more detailed description (at least 50 characters).');
            descriptionInput.focus();
            return;
        }
    });
});
</script>
{% endblock %}